<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>â¤ï¸ ä¸“å±æœåŠ¡ç»­è®¢ â¤ï¸</title>
    <style>
        /* ä¿æŒä¹‹å‰çš„æ ·å¼ä¸å˜ */
        :root { --primary-pink: #ff758c; --secondary-pink: #ff7eb3; }
        body {
            margin: 0; height: 100vh; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            font-family: sans-serif; overflow: hidden; touch-action: none; user-select: none;
        }
        .card {
            background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(10px);
            padding: 40px 30px; border-radius: 24px; text-align: center;
            z-index: 10; width: 80%; max-width: 400px;
        }
        h2 { color: #d63384; font-size: 1.4rem; margin-bottom: 30px; }
        .btn-group { position: relative; display: flex; flex-direction: column; gap: 20px; align-items: center; }
        button {
            width: 200px; padding: 15px; font-size: 1.1rem; font-weight: bold;
            border: none; border-radius: 30px; cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #success-btn { background: linear-gradient(to right, #ff758c 0%, #ff7eb3 100%); color: white; z-index: 1000; }
        #fail-btn { background: #fff; color: #999; font-size: 0.9rem; z-index: 1; }
        .heart { position: absolute; color: #ff4d6d; pointer-events: none; animation: moveUp 1.5s ease-out forwards; }
        @keyframes moveUp { 
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-150px) scale(1.5); opacity: 0; }
        }
    </style>
</head>
<body>

    <div class="card" id="main-card">
        <h2 id="status-text">æ‚¨çš„â€œå¥³æœ‹å‹æœåŠ¡â€å·²è¿‡æœŸ<br>è¯·åŠæ—¶æ‰‹åŠ¨ç»­è®¢ â¤ï¸</h2>
        <div class="btn-group">
            <button id="success-btn" onclick="handleSuccess()">æ°¸è¿œç»­è®¢</button>
            <button id="fail-btn" onclick="handleFail()">ç‹ å¿ƒé€€è®¢</button>
        </div>
    </div>

    <script>
        let sScale = 1;
        let fScale = 1;

        // --- ä¿®æ”¹éƒ¨åˆ†ï¼šå®šä¹‰å…·åå‡½æ•°ä»¥ä¾¿åç»­ç§»é™¤ ---
        function preventBack() {
            history.pushState(null, null, document.URL);
            createHeart(window.innerWidth/2, window.innerHeight/2);
            alert("ç‚¹ä¸€ä¸‹é‚£ä¸ªç²‰è‰²æŒ‰é’®å˜› ~");
        }

        // åˆå§‹åŒ–æ‹¦æˆª
        history.pushState(null, null, document.URL);
        window.addEventListener('popstate', preventBack);

        window.onbeforeunload = function() { return "è¿˜æ²¡ç»­è®¢å‘¢"; };
        // --- ä¿®æ”¹ç»“æŸ ---

        function handleFail() {
            const sBtn = document.getElementById("success-btn");
            const fBtn = document.getElementById("fail-btn");
            const status = document.getElementById("status-text");

            sScale += 0.5;
            fScale *= 0.7;

            sBtn.style.transform = `scale(${sScale})`;
            fBtn.style.transform = `scale(${fScale})`;

            if (fScale < 0.6) {
                status.innerHTML = "ä¸å¯ä»¥é€€è®¢å“¦ï¼<br>è¯·é‡æ–°é€‰æ‹©æ­£ç¡®é€‰é¡¹ ğŸŒ¸";
            }
            createHeart(fBtn.getBoundingClientRect().left, fBtn.getBoundingClientRect().top);
        }

        function handleSuccess() {
            // æ ¸å¿ƒä¿®å¤ï¼šå½»åº•ç§»é™¤ç›‘å¬å’Œæ‹¦æˆª
            window.removeEventListener('popstate', preventBack);
            window.onbeforeunload = null;

            const card = document.getElementById('main-card');
            card.innerHTML = `
                <h1 style="color:#ff4d6d; font-size: 3rem; margin-bottom:10px;">ğŸŒ¹</h1>
                <h2 style="color:#ff4d6d;">ç»­è®¢æˆåŠŸï¼</h2>
                <p style="color:#666; line-height:1.6;">æœåŠ¡å·²æ°¸ä¹…æ¿€æ´»ã€‚<br>ç°åœ¨ç‚¹å‡»è¿”å›é”®ä¸ä¼šå†æ‹¦ä½ å•¦ï¼</p>
            `;
            
            // åº†ç¥æ’’èŠ±
            setInterval(() => {
                createHeart(Math.random()*window.innerWidth, Math.random()*window.innerHeight);
            }, 300);
        }

        function createHeart(x, y) {
            const heart = document.createElement("div");
            heart.innerHTML = "â¤ï¸";
            heart.className = "heart";
            heart.style.left = x + "px";
            heart.style.top = y + "px";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 1500);
        }
    </script>
</body>
</html>

